<div class="container-fluid d-flex justify-content-center align-items-center fondo-gris" style="min-height: 100vh;">
    <div class="card perfil-card p-4 col-md-4 col-lg-4">
      
      <!-- Avatar clickeable -->
      <div class="text-center mb-3">
        <div class="avatar-perfil mx-auto position-relative" (click)="onChangeAvatar()" style="cursor: pointer;">
          <img *ngIf="user.avatar_url; else initials" [src]="user.avatar_url" alt="Avatar" class="img-avatar">
          <ng-template #initials>
            <div class="avatar-initials">
              {{ getInitials(user.name, user.surname) }}
            </div>
          </ng-template>
          <div class="avatar-overlay">
            <i class="bi bi-camera-fill"></i> <!-- ícono de cámara (usando Bootstrap Icons) -->
          </div>
        </div>
      </div>
  
      <!-- Nombre completo -->
      <h4 class="text-center mb-2">{{ user.name }} {{ user.surname }}</h4>
      <p class="text-center text-muted">{{ user.location }}</p>
  
      <hr>
  
      <!-- Información de usuario -->
      <div class="mb-2">
        <strong>Usuario:</strong> {{ user.username }}
      </div>
      <div class="mb-2">
        <strong>Email:</strong> {{ user.email }}
      </div>
  
      <div class="mb-2 d-flex align-items-center">
        <strong class="me-2">Rating:</strong>
        <ng-container *ngFor="let star of [].constructor(5); let i = index">
          <i [ngClass]="getStarClass(user.rating, i)"></i>
        </ng-container>
      </div>

      <div class="mb-2">
        <strong>Suscripción:</strong>
      </div>
  
      <hr>
  
      <!-- Botones -->
      <div class="d-grid gap-2">
        <button type="button" class="btn btn-primary" [routerLink]="'/profile/edit'">
          Modificar Datos Personales
        </button>
  
        <button type="button" class="btn btn-secondary" [routerLink]="'/profile/change-password'">
          Modificar Contraseña
        </button>
  
        <button type="button" class="btn btn-light" [routerLink]="'/home'">
          Volver
        </button>
      </div>
  
    </div>
  </div>
  